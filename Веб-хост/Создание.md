<details>
  <summary>Main</summary>

```cs
private static void <Main>$(string[] args)
{
	WebApplicationBuilder builder = WebApplication.CreateBuilder(args);
	builder.Services.AddRazorPages();
	WebApplication app = builder.Build();
	if (!app.Environment.IsDevelopment())
	{
		app.UseExceptionHandler("/Error");
		app.UseHsts();
	}
	app.UseHttpsRedirection();
	app.UseRouting();
	app.UseAuthorization();
	app.MapStaticAssets();
	app.MapRazorPages().WithStaticAssets();
	app.Run();
}
```
</details>

<details>
  <summary>Создание WebApplicationBuilder</summary>
  
```cs
public static WebApplicationBuilder CreateBuilder(string[] args)
{
	return new WebApplicationBuilder(new WebApplicationOptions
	{
		Args = args
	});
}
```
</details>

<details>
  <summary>.ctor</summary>

```cs
internal WebApplicationBuilder(WebApplicationOptions options, Action<IHostBuilder>? configureDefaults = null)
{
	ConfigurationManager configurationManager = new ConfigurationManager();
	configurationManager.AddEnvironmentVariables("ASPNETCORE_");
	_hostApplicationBuilder = new HostApplicationBuilder(new HostApplicationBuilderSettings
	{
		Args = options.Args,
		ApplicationName = options.ApplicationName,
		EnvironmentName = options.EnvironmentName,
		ContentRootPath = options.ContentRootPath,
		Configuration = configurationManager
	});
	if (options.WebRootPath != null)
	{
		Configuration.AddInMemoryCollection(new KeyValuePair<string, string>[1]
		{
			new KeyValuePair<string, string>(WebHostDefaults.WebRootKey, options.WebRootPath)
		});
	}
	BootstrapHostBuilder bootstrapHostBuilder = new BootstrapHostBuilder(_hostApplicationBuilder);
	configureDefaults?.Invoke(bootstrapHostBuilder);
	bootstrapHostBuilder.ConfigureWebHostDefaults(delegate(IWebHostBuilder webHostBuilder)
	{
		webHostBuilder.Configure(ConfigureApplication);
		InitializeWebHostSettings(webHostBuilder);
	}, delegate(WebHostBuilderOptions options)
	{
		options.SuppressEnvironmentConfiguration = true;
	});
	_genericWebHostServiceDescriptor = InitializeHosting(bootstrapHostBuilder);
}
```
</details>
