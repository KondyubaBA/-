  - 1 Вызывается метод WebApplication.CreateBuilder, который создает WebApplicationBuilder
  - 2 Создание WebApplicationBuilder:
    - создается ConfigurationManager
    - добавляются переменные среды AddEnvironmentVariables
    - создание HostApplicationBuilder с параметром HostApplicationBuilderSettings
        - new HostApplicationBuilderSettings
        - new ConfigurationManager
        - HostingHostBuilderExtensions.SetDefaultContentRoot(ConfigurationManager)
        - ConfigurationManager.AddEnvironmentVariables(prefix: "DOTNET_")
        - Initialize
          - HostingHostBuilderExtensions.AddCommandLineConfig(Configuration, settings.Args);
          - Configuration.AddInMemoryCollection
            - HostDefaults.ApplicationKey
            - HostDefaults.EnvironmentKey
            - HostDefaults.ContentRootKey
          - HostBuilder.CreateHostingEnvironment
          - Configuration.SetFileProvider
          - HostBuilder.PopulateServiceCollection
          - new LoggingBuilder
          - new MetricsBuilder
        - HostingHostBuilderExtensions.ApplyDefaultAppConfiguration
        - HostingHostBuilderExtensions.AddDefaultServices
        - HostingHostBuilderExtensions.CreateDefaultServiceProviderOptions
    - Configuration.AddInMemoryCollection WebRootKey
    - new BootstrapHostBuilder(_hostApplicationBuilder)
    - bootstrapHostBuilder.ConfigureWebHostDefaults
    - InitializeWebHostSettings(IWebHostBuilder webHostBuilder)
